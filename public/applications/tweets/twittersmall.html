<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<script type="text/javascript"
	src="http://code.jquery.com/jquery-1.8.0.min.js" charset="utf-8"></script>
<script type="text/javascript"
	src="http://timeago.yarp.com/jquery.timeago.js" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">
var queue = new Array();
var lastid = null;
var tag = "";
		$(function(){
			$.ajax({
			   url: 'http://search.twitter.com/search.json?q=%23WaysToIrritateMe' + '&rpp=4',
			   type: 'GET',
			   dataType: 'jsonp',
			   success: function(data, textStatus, xhr) {
			        for (var i = 0; i < data.results.length; i++){	
						var currentTweet = data.results[i];
						var tweetDiv = createTweetDiv(currentTweet,i);					
			           	$("body").append(tweetDiv);			
						lastid = currentTweet.id;			   
			        }  
					jQuery("abbr.timeago").timeago();                
			   }   
 
			});
			
			setInterval(function(){console.log("timer"); findNewTweets();},15000);
			
		});
		
		
		function findNewTweets(){
			$.ajax({
				   url: 'http://search.twitter.com/search.json?q=%23WaysToIrritateMe' + '&rpp=4&since_id=' + lastid,
				   type: 'GET',
				   dataType: 'jsonp',
				   success: function(data, textStatus, xhr) {
				        for (var i = 0; i < data.results.length; i++){	
							var currentTweet = data.results[i];
							var tweetDiv = createTweetDiv(currentTweet,i);					

							var ithTweet = $(".tweet").get(i);
				          	$(ithTweet).animate({"margin-left": "-560px"},1500, newStuff(i, tweetDiv));
							lastid = currentTweet.id;
				        }  
				   }   
	 
				});
		}
		
		var newStuff = function(i, tweetDiv){
			return function(){
				tweetDiv.css("margin-left","-560px");
				var ith = $(".tweet").get(i);
				$(ith).replaceWith(tweetDiv);
				tweetDiv.animate({"margin-left": "8px"}, 1000);
			}
		}
		
		function createTweetDiv(currentTweet,i){
			var tweetDiv = $("<div class='tweet'></div>");
			
			var usernameDiv = $("<div class='username'>" + currentTweet.from_user_name + "</div>");
			var tweetText = $("<div class='tweet_text'>" + currentTweet.text + "</div>");
			var tweetTime = $("<abbr class='timeago'></abbr>");
			tweetTime.attr("title",currentTweet.created_at);
			tweetTime.html(jQuery.timeago(currentTweet.created_at));
			
			
			tweetDiv.append(usernameDiv);
			tweetDiv.append(tweetText);
			tweetDiv.append(tweetTime);
			
			if(i == 0){
				tweetDiv.addClass("first");
			}
			
			
			var profileImg = $("<img class='profilepic'>");
			profileImg.attr("src","https://api.twitter.com/1/users/profile_image?screen_name=" + currentTweet.from_user + "&size=original");
			
			tweetDiv.append(profileImg);
			
			return tweetDiv;
		}
		
		</script>
<style type="text/css" media="screen">
@import url(http://fonts.googleapis.com/css?family=Press+Start+2P);

@import url(http://fonts.googleapis.com/css?family=Advent+Pro);

body {
	width: 576px;
	height: 1080px;
	background:
		url("http://hdwallpaperpics.com/wallpaper/picture/image/green-abstract-background-jpg1.jpg");
	overflow: hidden;
}

.tweet {
	font-family: 'Advent Pro', sans-serif;
	background-color: black;
	color: white;
	width: 536px;
	height: 200px;
	margin: 20px 8px;
	border-radius: 10px;
	box-shadow: 0px 0px 10px rgba(0, 0, 0, .8);
}

.tweet_text {
	font-size: 25px;
	float: right;
	width: 306px;
	height: 140px;
	margin-top: 10px;
	margin-right: 10px;
}

.username {
	float: right;
	width: 306px;
	height: 20px;
	margin-top: 10px;
	margin-right: 10px;
	font-size: 18px;
}

.timeago {
	float: right;
	width: 306px;
	height: 20px;
	font-size: 14px;
	text-align: right;
	margin-right: 10px;
}

.profilepic {
	position: relative;
	top: 0;
	left: 0;
	width: 200px;
	height: 200px;
	margin-right: 10px;
	border-top-left-radius: 10px;
	border-bottom-left-radius: 10px;
}

#logo{
width: 188px;
margin: 10px auto;
}

</style>
<div id="logo"><img src="twitterlogo.png" height="35px"/></div>
<title>TWITTER SMALL</title>
</head>
<body>

</body>
</html>
